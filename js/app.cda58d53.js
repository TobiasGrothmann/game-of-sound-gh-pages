(function(t){function e(e){for(var s,o,u=e[0],c=e[1],r=e[2],h=0,d=[];h<u.length;h++)o=u[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,r||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,u=1;u<n.length;u++){var c=n[u];0!==i[c]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var r=0;r<u.length;r++)e(u[r]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0271":function(t,e,n){t.exports=n.p+"img/off.fceb24de.svg"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23");function i(t,e,n,i,a,o){var u=Object(s["i"])("GameArea");return Object(s["e"])(),Object(s["c"])(u)}n("b0c0");var a=Object(s["k"])("data-v-1d2edbf8");Object(s["g"])("data-v-1d2edbf8");var o={class:"settings"},u={class:"setState"};Object(s["f"])();var c=a((function(t,e,i,a,c,r){return Object(s["e"])(),Object(s["c"])(s["a"],null,[Object(s["d"])("div",{class:"grid-container",onMousedown:e[1]||(e[1]=function(){return r.onMouseDown.apply(r,arguments)}),onMouseup:e[2]||(e[2]=function(){return r.onMouseUp.apply(r,arguments)})},[(Object(s["e"])(!0),Object(s["c"])(s["a"],null,Object(s["h"])(c.gameState.cells,(function(t){return Object(s["e"])(),Object(s["c"])("div",{key:t,class:"grid-item"},[(Object(s["e"])(!0),Object(s["c"])(s["a"],null,Object(s["h"])(t,(function(t){return Object(s["e"])(),Object(s["c"])("div",{key:t,class:"grid-item"},[Object(s["d"])("button",{class:{cell:!0,active:t.on,highlight:t.justPlayedSound},onClick:function(e){return r.onCellClicked(t)},onMousedown:function(e){return r.onCellMouseDown(t)},onMouseenter:function(e){return r.onCellMouseEntered(t)},style:{"border-color":t.getSoundColor()}},null,46,["onClick","onMousedown","onMouseenter"])])})),128))])})),128))],32),Object(s["d"])("div",o,[(Object(s["e"])(!0),Object(s["c"])(s["a"],null,Object(s["h"])(c.sounds,(function(t,e){return Object(s["e"])(),Object(s["c"])("button",{key:t.name,class:{settingsButton:!0,activeSetting:c.selectedSoundIndex==e},style:{background:t.color},onClick:function(t){return r.onSoundSelected(e)}},Object(s["j"])(t.name),15,["onClick"])})),128)),Object(s["d"])("button",{class:"settingsButton",onClick:e[3]||(e[3]=function(){var t;return(t=c.gameState).clearAllSounds.apply(t,arguments)})}," Clear all ")]),Object(s["d"])("div",u,[Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[4]||(e[4]=function(){var t;return(t=c.gameState).setEmptyState.apply(t,arguments)})}," empty "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[5]||(e[5]=function(){var t;return(t=c.gameState).setRandomState.apply(t,arguments)})}," random "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[6]||(e[6]=function(){var t;return(t=c.gameState).setGliderState.apply(t,arguments)})}," glider "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[7]||(e[7]=function(){var t;return(t=c.gameState).setSpaceshipState.apply(t,arguments)})}," spaceship "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[8]||(e[8]=function(){var t;return(t=c.gameState).setCloverLeafState.apply(t,arguments)})}," cloverleaf "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[9]||(e[9]=function(){var t;return(t=c.gameState).setPulsarState.apply(t,arguments)})}," pulsar "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[10]||(e[10]=function(){var t;return(t=c.gameState).setFigureEightState.apply(t,arguments)})}," figure eight "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[11]||(e[11]=function(){var t;return(t=c.gameState).setDinnerTableState.apply(t,arguments)})}," dinner table "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[12]||(e[12]=function(){var t;return(t=c.gameState).setTumblerState.apply(t,arguments)})}," tumbler "),Object(s["d"])("button",{class:"settingsButton stateButton",onClick:e[13]||(e[13]=function(){var t;return(t=c.gameState).setPentadecathlonState.apply(t,arguments)})}," Pentadecathlon ")]),Object(s["d"])("button",{class:"soundOnOff",onClick:e[14]||(e[14]=function(){return r.onAudioButtonToggle.apply(r,arguments)})},[Object(s["d"])("img",{src:this.audioOn?n("fb73"):n("0271"),alt:"sound on/off",width:"40"},null,8,["src"])])],64)})),r=n("d4ec"),l=n("bee2"),h=function(){function t(){Object(r["a"])(this,t),this.on=!1,this.upcomingState=this.on,this.neighbours=[],this.sound=null,this.justPlayedSound=!1}return Object(l["a"])(t,[{key:"getSoundColor",value:function(){return this.sound?this.sound.color:"#fff0"}},{key:"setDirect",value:function(t){this.on=t,this.upcomingState=t}},{key:"prepareNewState",value:function(t){this.upcomingState=t}},{key:"applyNewState",value:function(){var t=this;if(1==this.upcomingState&&0==this.on&&null!=this.sound){this.sound.play(),this.justPlayedSound=!0;var e=setInterval((function(){t.justPlayedSound=!1,clearInterval(e)}),170)}this.on=this.upcomingState}}]),t}(),d=n("262e"),f=n("2caf"),p=function(){function t(){Object(r["a"])(this,t),this.activeCells=[]}return Object(l["a"])(t,[{key:"apply",value:function(t,e,n){t.setEmptyState();for(var s=0;s<this.activeCells.length;s++)t.cells[this.activeCells[s][0]+e][this.activeCells[s][1]+n].setDirect(!0)}}]),t}(),b=function(t){Object(d["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t.activeCells=[[0,2],[0,3],[0,7],[0,8],[1,1],[1,4],[1,6],[1,9],[2,1],[2,3],[2,4],[2,6],[2,7],[2,9],[3,0],[3,1],[3,9],[3,10],[4,2],[4,4],[4,6],[4,8],[5,0],[5,1],[5,9],[5,10],[6,1],[6,3],[6,4],[6,6],[6,7],[6,9],[7,1],[7,4],[7,6],[7,9],[8,2],[8,3],[8,7],[8,8]],t}return n}(p),v=function(t){Object(d["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t.activeCells=[[0,1],[1,2],[2,0],[2,1],[2,2]],t}return n}(p),g=(n("caad"),function(t){Object(d["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;Object(r["a"])(this,n),t=e.call(this),t.activeCells=[[0,2],[0,3],[0,4],[0,8],[0,9],[0,10],[5,2],[5,3],[5,4],[5,8],[5,9],[5,10],[7,2],[7,3],[7,4],[7,8],[7,9],[7,10],[12,2],[12,3],[12,4],[12,8],[12,9],[12,10],[2,0],[3,0],[4,0],[8,0],[9,0],[10,0],[2,5],[3,5],[4,5],[8,5],[9,5],[10,5],[2,7],[3,7],[4,7],[8,7],[9,7],[10,7],[2,12],[3,12],[4,12],[8,12],[9,12],[10,12]];for(var s=0;s<t.xs;s++)for(var i=0;i<t.ys;i++)[0,5,7,12].includes(s)&&[2,3,4,8,9,10].includes(i)&&t.activeCells.push([s,i]),[0,5,7,12].includes(i)&&[2,3,4,8,9,10].includes(s)&&t.activeCells.push([s,i]);return t}return n}(p)),m=function(t){Object(d["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t.activeCells=[[5,1],[6,1],[4,2],[5,2],[6,2],[7,2],[3,4],[4,4],[5,4],[6,4],[7,4],[8,4],[4,5],[5,5],[6,5],[7,5],[3,7],[4,7],[7,7],[8,7],[1,8],[2,8],[4,8],[7,8],[9,8],[10,8],[4,9],[7,9],[5,12],[6,12],[5,13],[6,13]],t}return n}(p),O=function(t){Object(d["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t.activeCells=[[0,0],[1,0],[2,0],[0,1],[1,1],[2,1],[0,2],[1,2],[2,2],[3,3],[4,3],[5,3],[3,4],[4,4],[5,4],[3,5],[4,5],[5,5]],t}return n}(p),y=function(t){Object(d["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t.activeCells=[[1,0],[1,1],[2,1],[3,1],[11,1],[12,1],[4,2],[11,2],[3,3],[4,3],[9,3],[11,3],[10,4],[9,4],[5,5],[6,5],[7,5],[5,6],[6,6],[7,6],[2,8],[3,8],[1,9],[3,9],[8,9],[9,9],[1,10],[8,10],[0,11],[1,11],[9,11],[10,11],[11,11],[11,12]],t}return n}(p),j=function(t){Object(d["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t.activeCells=[[2,0],[3,0],[5,0],[6,0],[3,2],[5,2],[0,3],[1,3],[3,3],[5,3],[7,3],[8,3],[0,4],[1,4],[2,4],[6,4],[7,4],[8,4]],t}return n}(p),S=function(t){Object(d["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.call(this),t.activeCells=[[0,0],[1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[0,1],[2,1],[3,1],[4,1],[5,1],[7,1],[0,2],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2]],t}return n}(p),w=function(){function t(e,n){Object(r["a"])(this,t),this.xs=e,this.ys=n,this.beatIndex=0,this.cells=[];for(var s=0;s<e;s++){this.cells.push([]);for(var i=0;i<n;i++)this.cells[s].push(new h)}this.setRandomState()}return Object(l["a"])(t,[{key:"tick",value:function(){for(var t=0;t<this.xs;t++)for(var e=0;e<this.ys;e++){null!=this.cells[t][e].sound&&(this.cells[t][e].sound.wasTriggeredThisTick=!1);for(var n=0,s=this.getAllNeighbours(t,e),i=0;i<s.length;i++)s[i].on&&n++;this.cells[t][e].on?(n<2||n>3)&&this.cells[t][e].prepareNewState(!1):3==n&&this.cells[t][e].prepareNewState(!0)}for(t=0;t<this.xs;t++)for(e=0;e<this.ys;e++)this.cells[t][e].applyNewState();this.beatIndex++}},{key:"setEmptyState",value:function(){for(var t=0;t<this.xs;t++)for(var e=0;e<this.ys;e++)this.cells[t][e].setDirect(!1)}},{key:"setRandomState",value:function(){for(var t=0;t<this.xs;t++)for(var e=0;e<this.ys;e++)this.cells[t][e].setDirect(Math.random()<.4)}},{key:"setGliderState",value:function(){(new v).apply(this,4,4)}},{key:"setSpaceshipState",value:function(){(new m).apply(this,2,2)}},{key:"setPulsarState",value:function(){(new g).apply(this,2,2)}},{key:"setCloverLeafState",value:function(){(new b).apply(this,4,3)}},{key:"setFigureEightState",value:function(){(new O).apply(this,5,6)}},{key:"setDinnerTableState",value:function(){(new y).apply(this,2,2)}},{key:"setTumblerState",value:function(){(new j).apply(this,4,6)}},{key:"setPentadecathlonState",value:function(){(new S).apply(this,5,7)}},{key:"clearAllSounds",value:function(){for(var t=0;t<this.xs;t++)for(var e=0;e<this.ys;e++)this.cells[t][e].sound=null}},{key:"getAllNeighbours",value:function(t,e){return[this.cells[this.mod(t-1,this.xs)][this.mod(e-1,this.ys)],this.cells[t][this.mod(e-1,this.ys)],this.cells[this.mod(t+1,this.xs)][this.mod(e-1,this.ys)],this.cells[this.mod(t+1,this.xs)][e],this.cells[this.mod(t+1,this.xs)][this.mod(e+1,this.ys)],this.cells[t][this.mod(e+1,this.ys)],this.cells[this.mod(t-1,this.xs)][this.mod(e+1,this.ys)],this.cells[this.mod(t-1,this.xs)][e]]}},{key:"mod",value:function(t,e){return(t%e+e)%e}}]),t}(),C=n("ade3"),k=function(){function t(e,n,s){Object(r["a"])(this,t),this.name=e,this.color=n,this.wasTriggeredThisTick=!1,this.master=t.audioCtx.createGain(),this.master.gain.setValueAtTime(0,t.audioCtx.currentTime),this.maxGain=1/Math.sqrt(6),this.triggerAmps=[this.maxGain,.78*this.maxGain,.55*this.maxGain],this.trigger=0,this.oscs=[],this.gains=[];for(var i=0;i<5;i++){var a=t.audioCtx.createOscillator(),o=t.audioCtx.createGain();this.oscs.push(a),this.gains.push(o),a.start(),a.connect(o),o.connect(this.master)}this.setNote(s),this.master.connect(t.audioCtx.destination)}return Object(l["a"])(t,[{key:"play",value:function(){if(!this.wasTriggeredThisTick){var e=.15+.05*Math.random(),n=.2+.1*Math.random(),s=t.audioCtx.currentTime;this.master.gain.cancelScheduledValues(s),this.master.gain.setTargetAtTime(this.triggerAmps[this.trigger%this.triggerAmps.length],s+e,.001),this.master.gain.setTargetAtTime(0,s+e+n,.3),this.wasTriggeredThisTick=!0,this.trigger+=1}}},{key:"midicps",value:function(t){return 13.75*Math.pow(2,(t-9)/12)}},{key:"setNote",value:function(e){for(var n=this.midicps(e),s=[n,2*n,6*n,8*n,10*n],i=[1,.05,.0105,.004,.004],a=0;a<s.length;a++)this.oscs[a].frequency.setValueAtTime(s[a],t.audioCtx.currentTime),this.gains[a].gain.setValueAtTime(i[a]*(1/Math.sqrt(i.length)),t.audioCtx.currentTime)}}]),t}();Object(C["a"])(k,"audioCtx",new(window.AudioContext||window.webkitAudioContext));var x={name:"Conway's Game of Sound",data:function(){return{gameState:new w(17,17),sounds:[],selectedSoundIndex:0,mouseDown:!1,mouseDownTurningOff:!1,audioOn:!1}},mounted:function(){this.$nextTick((function(){var t=this;window.setInterval((function(){t.gameState.tick()}),450)})),this.sounds=[];var t=-15;this.sounds.push(new k("01","#0eaa59",60+t)),this.sounds.push(new k("02","#0eaa8b",62+t)),this.sounds.push(new k("03","#0e95aa",64+t)),this.sounds.push(new k("04","#0e6baa",67+t)),this.sounds.push(new k("05","#0e25aa",69+t)),this.sounds.push(new k("06","#690eaa",72+t))},methods:{onSoundSelected:function(t){this.selectedSoundIndex=t},onCellClicked:function(t){t.sound==this.sounds[this.selectedSoundIndex]?t.sound=null:t.sound=this.sounds[this.selectedSoundIndex]},onCellMouseDown:function(t){this.mouseDownTurningOff=null!=t.sound},onCellMouseEntered:function(t){this.mouseDown&&(this.mouseDownTurningOff?t.sound=null:t.sound=this.sounds[this.selectedSoundIndex])},onMouseDown:function(){this.mouseDown=!0},onMouseUp:function(){this.mouseDown=!1},onAudioButtonToggle:function(){this.audioOn=!this.audioOn,this.audioOn?k.audioCtx.resume():k.audioCtx.suspend()}}};n("d326");x.render=c,x.__scopeId="data-v-1d2edbf8";var T=x,B={name:"App",components:{GameArea:T}};n("64be");B.render=i;var M=B;Object(s["b"])(M).mount("#app")},"64be":function(t,e,n){"use strict";n("c894")},c894:function(t,e,n){},d326:function(t,e,n){"use strict";n("ebc2")},ebc2:function(t,e,n){},fb73:function(t,e,n){t.exports=n.p+"img/on.8b974db0.svg"}});
//# sourceMappingURL=app.cda58d53.js.map